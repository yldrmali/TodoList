!function(e){var t={};function o(r){if(t[r])return t[r].exports;var n=t[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){const o=document.querySelector("#projectList"),r=document.querySelector(".projectAdd > input"),n=document.querySelector("#todoList"),l=document.querySelector(".todoAdd > input");let c=[],i=[],a=0,s=0;function u(e,t,r){if(r)return;const n=`<li class="itemProject">\n                    <p class="text" job="selector">${e}</p>\n                    <i class="fa fa-trash-o de" job="delete" id="${t}"></i>\n                </li>`;o.insertAdjacentHTML("beforeend",n)}function d(){const e=r.value;e&&(u(e,a,!1),c.push({name:e,idProject:a,trash:!1}),localStorage.setItem("PROJECT",JSON.stringify(c)),a++,r.value="")}function f(e,t,o,r,l){if(r)return;const c=`<li class="itemTodo">\n                    <i class="fa ${o?"fa-check-circle":"fa-circle-thin"} co" job="complete" id="${t}"></i>\n                    <p class="text ${o?"lineThrough":""}" job="selector">${e}</p>\n                    <i class="fa fa-trash-o de" job="delete" id="${t}"></i>\n                    </li>`;n.insertAdjacentHTML("beforeend",c)}function p(){const e=l.value,t=document.querySelectorAll("ul#projectList li");console.log(t),[...t].filter(e=>e.classList.contains("active")).length||alert("choose a project");const o=document.querySelector("li.active p").innerHTML;o||console.log("hello"),e&&(f(e,s,!1,!1),i.push({name:e,idInput:s,done:!1,trash:!1,project:o}),localStorage.setItem("TODO",JSON.stringify(i)),s++,l.value="")}let g=localStorage.getItem("TODO"),m=localStorage.getItem("PROJECT");function S(e){n.innerHTML="",e.forEach(e=>{f(e.name,e.idInput,e.done,e.trash,e.project)})}g||m?(g&&(console.log("todo"),i=JSON.parse(g),s=i.length,S(i)),m&&(c=JSON.parse(m),a=c.length,c.forEach(e=>{u(e.name,e.idProject,e.trash)}))):(console.log(i),i=[],c=[],s=0,a=0),document.addEventListener("keyup",e=>{if(13==e.keyCode&&document.activeElement===l)p();else{if(13!=e.keyCode||document.activeElement!==r)return;d()}}),document.addEventListener("click",e=>{if("plus-input"==e.target.id)p();else{if("plus-project"!=e.target.id)return;d()}}),document.querySelector(".todoClearAll i").addEventListener("click",()=>{confirm("are you sure to shred all")&&(localStorage.clear(),location.reload())}),n.addEventListener("click",e=>{const t=e.target,o=t.attributes.job.value;"complete"==o?function(e){e.classList.toggle("fa-check-circle"),e.classList.toggle("fa-circle-thin"),e.parentNode.querySelector(".text").classList.toggle("lineThrough"),console.log(i[e.id]),i[e.id].done=!i[e.id].done,console.log(e)}(t):"delete"==o&&function(e){e.parentNode.parentNode.removeChild(e.parentNode),i[e.id].trash=!0}(t),localStorage.setItem("TODO",JSON.stringify(i))}),o.addEventListener("click",e=>{const t=e.target,o=t.attributes.job.value;if([...document.querySelectorAll(".itemProject")].forEach(e=>{e.classList.contains("active")&&e.classList.remove("active")}),"delete"==o)!function(e){var t=e.previousSibling.previousSibling.innerHTML;e.parentNode.parentNode.removeChild(e.parentNode),c[e.id].trash=!0,console.log(c[e.id].trash);let o=localStorage.getItem("TODO"),r=JSON.parse(o),n=r.filter(e=>e.project==t);for(let e of n)e.trash=!0;localStorage.setItem("TODO",JSON.stringify(r)),S(r)}(t);else{if("selector"!=o)return;e.target.parentNode.classList.add("active"),function(e){let t=localStorage.getItem("TODO"),o=JSON.parse(t);if(o){console.log(o),S(o.filter(t=>t.project==e.innerHTML))}}(e.target)}localStorage.setItem("PROJECT",JSON.stringify(c))})}]);